implement the variables and constraints of the model 
refer to the pdf for details 

------------------------------------------------------------------------------------
SETS
------------------------------------------------------------------------------------

J = set of jobs. made of one or more operations
O = set of all operations of all jobs. Ex: Oj = {(j, k), k = {1, 2, ..., nj} }
M = set of machines
H = scheduling horizon 

------------------------------------------------------------------------------------
VARS
------------------------------------------------------------------------------------

ğ‘  (ğ‘—ğ‘˜) starting time of operation (ğ‘—, ğ‘˜)

ğ‘’ (ğ‘—ğ‘˜) ending time of operation (ğ‘—, ğ‘˜)

ğ‘¥ (m) (ğ‘—ğ‘˜ğ‘—â€²ğ‘˜â€²)     equal to 1 if operation (ğ‘—, ğ‘˜) is directly followed by operation (ğ‘—â€², ğ‘˜â€²) on machine ğ‘š, 0 otherwise

ğ›½ (m) (ğ‘—ğ‘˜)   equal to 1 if operation (ğ‘—, ğ‘˜) is assigned to machine ğ‘š, 0 otherwise

ğ›¼ (ğ‘—ğ‘˜) equal to 1 if operation (ğ‘—, ğ‘˜) is completed within scheduling horizon ğ», 0 otherwise

ğ‘¦ (t) (jk)  equal to 1 if tool ğ‘¡ is present at the start of processing operation (ğ‘—, ğ‘˜), 0 otherwise   

ğ‘§ (t) (jk)   equal to 1 if tool ğ‘¡ is inserted at the start of operation (ğ‘—, ğ‘˜), 0 otherwise

ğ‘™ (ğ‘—ğ‘˜) equal to 1 if a tool switching instance occurs at the start of operation (ğ‘—, ğ‘˜), 0 otherwise

new Vars for linear obj
ğ›¿(ğ‘—ğ‘˜)                    âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚
ğœ†(ğ‘¡)(ğ‘—ğ‘˜)                 âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚, âˆ€ğ‘¡ âˆˆ ğ‘‡

------------------------------------------------------------------------------------
RESTRICAO DE DOMINIO
------------------------------------------------------------------------------------

ğ‘¥ (ğ‘š) (ğ‘—ğ‘˜ğ‘—â€²ğ‘˜â€²) âˆˆ {0, 1} âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚, âˆ€(ğ‘—â€², ğ‘˜â€²) âˆˆ ğ‘‚, âˆ€ğ‘š âˆˆ ğ‘€

ğ›½ (ğ‘š) (ğ‘—ğ‘˜)  âˆˆ {0, 1} âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚, âˆ€ğ‘š âˆˆ ğ‘€

ğ‘¦ (ğ‘¡) (ğ‘—ğ‘˜) âˆˆ {0, 1} âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚, âˆ€ğ‘¡ âˆˆ ğ‘‡
ğ‘§ (ğ‘¡) (ğ‘—ğ‘˜) âˆˆ {0, 1} âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚, âˆ€ğ‘¡ âˆˆ ğ‘‡


ğ›¼ (ğ‘—ğ‘˜) âˆˆ {0, 1} âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚ 
ğ‘™ (ğ‘—ğ‘˜)  âˆˆ {0, 1} âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚ 


ğ‘  (ğ‘—ğ‘˜) â‰¥ 0 âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚ 
ğ‘’ (ğ‘—ğ‘˜) â‰¥ 0 âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚ 


-----------------------------------------------------------------------------------------
RESTRICAO
-----------------------------------------------------------------------------------------

L = Î£ (ğ‘—,ğ‘˜) âˆˆ ğ‘‚ ğ‘ğ‘—ğ‘˜ + âŒˆ ğ» ğ‘¡(ğ‘ˆ)/24 âŒ‰


make sure that each operation can only be preceded and followed by at most one operation, respectively
Î£ (ğ‘š âˆˆ ğ‘€) Î£ (ğ‘—â€²,ğ‘˜â€²) âˆˆ ğ‘‚ (ğ‘—â€²,ğ‘˜â€²)â‰ (ğ‘—,ğ‘˜) ğ‘¥(ğ‘š)(ğ‘—ğ‘˜ğ‘—â€²ğ‘˜â€²) â‰¤ 1              âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚ 
Î£ (ğ‘š âˆˆ ğ‘€) Î£ (ğ‘—â€²,ğ‘˜â€²) âˆˆ ğ‘‚ (ğ‘—â€²,ğ‘˜â€²)â‰ (ğ‘—,ğ‘˜) ğ‘¥(ğ‘š)(ğ‘—ğ‘˜ğ‘—â€²ğ‘˜â€²) â‰¤ 1              âˆ€(ğ‘—', ğ‘˜') âˆˆ ğ‘‚ 

impose that each operation is assigned to one machine only.
Î£ (ğ‘š âˆˆ ğ‘€) ğ›½ (ğ‘š) (ğ‘—ğ‘˜) = 1

enforce that two successive operations must be carried out on the same machine.
2ğ‘¥ (ğ‘š) (ğ‘—ğ‘˜ğ‘—â€²ğ‘˜â€²) â‰¤ ğ›½(ğ‘š)(ğ‘—ğ‘˜) + ğ›½(ğ‘š)(ğ‘—â€²ğ‘˜â€²)                                 âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚, âˆ€(ğ‘—â€², ğ‘˜â€²) âˆˆ ğ‘‚âˆ–{(ğ‘—, ğ‘˜)}, âˆ€ğ‘š âˆˆ ğ‘€
Î£ (ğ‘—,ğ‘˜) âˆˆ ğ‘‚ Î£ (ğ‘—â€²,ğ‘˜â€²) âˆˆ ğ‘‚   ğ‘¥ (m) (ğ‘—ğ‘˜ğ‘—â€²ğ‘˜â€²) + 1 â‰¥ Î£ (ğ‘—,ğ‘˜) âˆˆ ğ‘‚ ğ›½ (m)(jk)   âˆ€ğ‘š âˆˆ ğ‘€

make sure that the ending time of an operation is constrained by its starting time and processing time.
ğ‘’(ğ‘—ğ‘˜) = ğ‘ (ğ‘—ğ‘˜) + ğ‘(ğ‘—ğ‘˜)                       âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚

guarantee that an operation can only start after its preceding operation on the same machine is completed,
ğ‘ (ğ‘—ğ‘˜) + L(1 - ğ‘¥ (m) (ğ‘—ğ‘˜ğ‘—â€²ğ‘˜â€²)) â‰¥ ğ‘’(ğ‘—â€²ğ‘˜â€²)     âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚, âˆ€(ğ‘—â€², ğ‘˜â€²) âˆˆ ğ‘‚âˆ–{(ğ‘—, ğ‘˜)}, âˆ€ğ‘š âˆˆ ğ‘€

enforce the precedence relations between two operations of the same job.
ğ‘’(ğ‘—ğ‘˜) â‰¤ ğ‘ (ğ‘–, ğ‘—+1)                           âˆ€ğ‘– âˆˆ ğ¼, ğ‘— = (1,â€¦, ğ‘›ğ‘– âˆ’ 1), ğ‘›ğ‘– > 1

ensure that if an operation is completed within the scheduling horizon
(ğ» âˆ’  ğ‘’ğ‘—ğ‘˜) / L < ğ›¼(jk) â‰¤ 1 - (e(jk) - H)/L      âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚

impose that the sum of all tools present at the start of an operation does not exceed the tool capacity.
Î£ ğ‘¡âˆˆğ‘‡ ğ‘¦(ğ‘¡)(ğ‘—ğ‘˜) â‰¤ ğ‘‡(ğ¶)               âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚

states that a tool switch occurs (i.e., ğ‘§(ğ‘¡)(ğ‘—ğ‘˜) = 1) when tool ğ‘¡ required for operation (ğ‘—, ğ‘˜) is not present in the tool magazine during the processing of preceding operation (ğ‘—â€², ğ‘˜â€²).
ğ‘¥ (ğ‘š) (ğ‘—ğ‘˜ğ‘—â€²ğ‘˜â€²) + ğ‘¦(ğ‘¡) (ğ‘—ğ‘˜) âˆ’ ğ‘¦(ğ‘¡)(ğ‘—â€²ğ‘˜â€²) â‰¤ ğ‘§(ğ‘¡)(ğ‘—ğ‘˜) + 1          âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚, âˆ€(ğ‘—â€², ğ‘˜â€²) âˆˆ ğ‘‚âˆ–{(ğ‘—, ğ‘˜)},

ensure that all required tools for operation (ğ‘—, ğ‘˜) are present at the start of the operation
ğ‘¦(ğ‘¡)(ğ‘—ğ‘˜) = 1                    âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚, âˆ€ğ‘¡ âˆˆ ğ‘‡ğ‘—ğ‘˜

Constraints (14) and (15) make sure that each tool switch results in a tool switching instance, and vice versa, i.e., that at each tool switching instance, one or more tools are switched.
ğ‘§(ğ‘¡)(ğ‘—ğ‘˜) â‰¤ ğ‘™(ğ‘—ğ‘˜)                 âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚, âˆ€ğ‘¡ âˆˆ ğ‘‡
ğ‘™(ğ‘—ğ‘˜) â‰¤ Î£ ğ‘¡ âˆˆ ğ‘‡ ğ‘§(ğ‘¡)(ğ‘—ğ‘˜)         âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚

impose that tool switching instances can only occur during supervised shifts, i.e., during the first (24âˆ’ğ‘¡ğ‘ˆ ) supervised hours of each day, where (ğ‘ ğ‘—ğ‘˜ mod 24) is a modulo that determines the time (hour) of a day at which operation (ğ‘—, ğ‘˜) begins. For example, if ğ‘ ğ‘—ğ‘˜ = 30 and ğ‘¡ğ‘ˆ = 12, then ğ‘™ğ‘—ğ‘˜ â‰¤ 1.5, which indicates that a tool switching instance may happen at hour 30
ğ‘™(ğ‘—ğ‘˜) â‰¤ 2 âˆ’ (ğ‘ (ğ‘—ğ‘˜) mod 24) / 24 âˆ’ ğ‘¡ğ‘ˆ    âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚

Linear
ğ›¿ğ‘—ğ‘˜ â‰¤ ğ›¼ğ‘—ğ‘˜ âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚
ğ›¿ğ‘—ğ‘˜ â‰¤ ğ‘™ğ‘—ğ‘˜ âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚
ğ›¿ğ‘—ğ‘˜ â‰¥ ğ›¼ğ‘—ğ‘˜ + ğ‘™ğ‘—ğ‘˜ âˆ’ 1 âˆ€(ğ‘—, ğ‘˜) âˆˆ ğ‘‚

since the parallel machines are identical, there exist many alternative solutions that are similar but mirror the allocation of operations over the machines. Hence, we exclude those alternatives by adding symmetry-breaking constraints (28)
Î£ (ğ‘—,ğ‘˜)âˆˆğ‘‚ ğ›½(ğ‘šâˆ’1)(ğ‘—ğ‘˜) â‰¥ Î£ (ğ‘—,ğ‘˜)âˆˆğ‘‚ ğ›½(ğ‘š)(ğ‘—ğ‘˜)    âˆ€ğ‘š âˆˆ ğ‘€âˆ–{1}

----------------------------------------------------------------------
OBJ
----------------------------------------------------------------------


max(r * Î£ [(ğ‘—,ğ‘˜) âˆˆ ğ‘‚] ğ›¼(ğ‘—ğ‘˜) âˆ’ ğ‘(ğ‘) Î£ [(ğ‘—,ğ‘˜) âˆˆ ğ‘‚(ğ‘ƒ)] (1âˆ’ğ›¼(ğ‘—ğ‘˜)) - ( ğ‘(ğ‘“) Î£ [(ğ‘—,ğ‘˜) âˆˆ ğ‘‚] ğ›¿(ğ‘—ğ‘˜) + ğ‘(v) ) Î£ [(ğ‘—,ğ‘˜)âˆˆğ‘‚] Î£[ğ‘¡âˆˆğ‘‡] ğœ†(ğ‘¡)(ğ‘—ğ‘˜))

